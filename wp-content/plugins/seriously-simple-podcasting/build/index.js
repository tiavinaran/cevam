!function(){var e={184:function(e,t){var s;!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var s=arguments[t];if(s){var n=typeof s;if("string"===n||"number"===n)e.push(s);else if(Array.isArray(s)&&s.length){var o=r.apply(null,s);o&&e.push(o)}else if("object"===n)for(var l in s)a.call(s,l)&&s[l]&&e.push(l)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(s=function(){return r}.apply(t,[]))||(e.exports=s)}()},573:function(e){"use strict";var t=/["'&<>]/;e.exports=function(e){var s,a=""+e,r=t.exec(a);if(!r)return a;var n="",o=0,l=0;for(o=r.index;o<a.length;o++){switch(a.charCodeAt(o)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 39:s="&#39;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}l!==o&&(n+=a.substring(l,o)),l=o+1,n+=s}return l!==o?n+a.substring(l,o):n}}},t={};function s(a){var r=t[a];if(void 0!==r)return r.exports;var n=t[a]={exports:{}};return e[a](n,n.exports,s),n.exports}s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=window.wp.element,t=window.wp.i18n,a=window.wp.blocks,r=window.wp.plugins,n=window.wp.blockEditor,o=window.wp.components,l=window.wp.apiFetch,i=s.n(l);class c extends e.Component{render(){const{className:t,episodeRef:s,episodeId:a,episodes:r,activateEpisode:n}=this.props;return(0,e.createElement)("div",{className:t},"Select podcast Episode",(0,e.createElement)("select",{ref:s,className:"castos-select",defaultValue:a},r.map(((t,s)=>(0,e.createElement)("option",{key:t.id,value:t.id},t.title)))),(0,e.createElement)("button",{className:"button",onClick:n},"Go"))}}var p=c,d=window.React,m=s.n(d),u=s(573),h=s.n(u);function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},y.apply(this,arguments)}function g(e,t){if(null==e)return{};var s,a,r={},n=Object.keys(e);for(a=0;a<n.length;a++)s=n[a],t.indexOf(s)>=0||(r[s]=e[s]);return r}function b(e){var t=e.attributes,s=void 0===t?{}:t,a=e.children,r=void 0===a?null:a,n=e.selfClose,o=void 0!==n&&n,l=e.tagName;return o?m().createElement(l,s):m().createElement(l,s,r)}var f=function(){function e(){}var t=e.prototype;return t.attribute=function(e,t){return t},t.node=function(e,t){return t},e}(),v=/(url|image|image-set)\(/i,E=function(e){var t,s;function a(){return e.apply(this,arguments)||this}return s=e,(t=a).prototype=Object.create(s.prototype),t.prototype.constructor=t,t.__proto__=s,a.prototype.attribute=function(e,t){return"style"===e&&Object.keys(t).forEach((function(e){String(t[e]).match(v)&&delete t[e]})),t},a}(f),_={a:{content:9,self:!1,type:105},address:{invalid:["h1","h2","h3","h4","h5","h6","address","article","aside","section","div","header","footer"],self:!1},audio:{children:["track","source"]},br:{type:9,void:!0},body:{content:127},button:{content:8,type:105},caption:{content:1,parent:["table"]},col:{parent:["colgroup"],void:!0},colgroup:{children:["col"],parent:["table"]},details:{children:["summary"],type:97},dd:{content:1,parent:["dl"]},dl:{children:["dt","dd"],type:1},dt:{content:1,invalid:["footer","header"],parent:["dl"]},figcaption:{content:1,parent:["figure"]},footer:{invalid:["footer","header"]},header:{invalid:["footer","header"]},hr:{type:1,void:!0},img:{void:!0},li:{content:1,parent:["ul","ol","menu"]},main:{self:!1},ol:{children:["li"],type:1},picture:{children:["source","img"],type:25},rb:{parent:["ruby","rtc"]},rp:{parent:["ruby","rtc"]},rt:{content:8,parent:["ruby","rtc"]},rtc:{content:8,parent:["ruby"]},ruby:{children:["rb","rp","rt","rtc"]},source:{parent:["audio","video","picture"],void:!0},summary:{content:8,parent:["details"]},table:{children:["caption","colgroup","thead","tbody","tfoot","tr"],type:1},tbody:{parent:["table"],children:["tr"]},td:{content:1,parent:["tr"]},tfoot:{parent:["table"],children:["tr"]},th:{content:1,parent:["tr"]},thead:{parent:["table"],children:["tr"]},tr:{parent:["table","tbody","thead","tfoot"],children:["th","td"]},track:{parent:["audio","video"],void:!0},ul:{children:["li"],type:1},video:{children:["track","source"]},wbr:{type:9,void:!0}};function w(e){return function(t){_[t]=y({},e,_[t])}}["address","main","div","figure","p","pre"].forEach(w({content:1,type:65})),["abbr","b","bdi","bdo","cite","code","data","dfn","em","i","kbd","mark","q","ruby","samp","strong","sub","sup","time","u","var"].forEach(w({content:8,type:73})),["p","pre"].forEach(w({content:8,type:65})),["s","small","span","del","ins"].forEach(w({content:8,type:9})),["article","aside","footer","header","nav","section","blockquote"].forEach(w({content:1,type:67})),["h1","h2","h3","h4","h5","h6"].forEach(w({content:8,type:69})),["audio","canvas","iframe","img","video"].forEach(w({type:89}));var N=Object.freeze(_),k=["applet","base","body","command","embed","frame","frameset","head","html","link","meta","noscript","object","script","style","title"],P=Object.keys(N).filter((function(e){return"canvas"!==e&&"iframe"!==e})),x=Object.freeze({alt:1,cite:1,class:1,colspan:3,controls:4,datetime:1,default:4,disabled:4,dir:1,height:1,href:1,id:1,kind:1,label:1,lang:1,loading:1,loop:4,media:1,muted:4,poster:1,role:1,rowspan:3,scope:1,sizes:1,span:3,start:3,style:5,src:1,srclang:1,srcset:1,target:1,title:1,type:1,width:1}),C=Object.freeze({class:"className",colspan:"colSpan",datetime:"dateTime",rowspan:"rowSpan",srclang:"srcLang",srcset:"srcSet"}),S=/^<(!doctype|(html|head|body)(\s|>))/i,F=/^(aria\x2D|data\x2D|[0-9A-Z_a-z\u017F\u212A]+:)/i,T=/{{{(\w+)\/?}}}/;function A(){if("undefined"!=typeof window&&"undefined"!=typeof document)return document.implementation.createHTMLDocument("Interweave")}var I,R=function(){function e(e,t,s,a){void 0===t&&(t={}),void 0===s&&(s=[]),void 0===a&&(a=[]),this.allowed=void 0,this.banned=void 0,this.blocked=void 0,this.container=void 0,this.content=[],this.props=void 0,this.matchers=void 0,this.filters=void 0,this.keyIndex=void 0,this.props=t,this.matchers=s,this.filters=[].concat(a,[new E]),this.keyIndex=-1,this.container=this.createContainer(e||""),this.allowed=new Set(t.allowList||P),this.banned=new Set(k),this.blocked=new Set(t.blockList)}var t=e.prototype;return t.applyAttributeFilters=function(e,t){return this.filters.reduce((function(t,s){return null!==t&&"function"==typeof s.attribute?s.attribute(e,t):t}),t)},t.applyNodeFilters=function(e,t){return this.filters.reduce((function(t,s){return null!==t&&"function"==typeof s.node?s.node(e,t):t}),t)},t.applyMatchers=function(e,t){var s=this,a={},r=this.props,n=e,o=0,l=null;return this.matchers.forEach((function(e){var i=e.asTag().toLowerCase(),c=s.getTagConfig(i);if(!r[e.inverseName]&&s.isTagAllowed(i)&&s.canRenderChild(t,c)){for(var p="";n&&(l=e.match(n));){var d=l,m=d.index,u=d.length,h=d.match,b=d.valid,f=d.void,v=g(d,["index","length","match","valid","void"]),E=e.propName+o;m>0&&(p+=n.slice(0,m)),b?(p+=f?"{{{"+E+"/}}}":"{{{"+E+"}}}"+h+"{{{/"+E+"}}}",s.keyIndex+=1,o+=1,a[E]={children:h,matcher:e,props:y({},r,v,{key:s.keyIndex})}):p+=h,e.greedy?(n=p+n.slice(m+u),p=""):n=n.slice(m+(u||h.length))}e.greedy||(n=p+n)}})),0===o?e:this.replaceTokens(n,a)},t.canRenderChild=function(e,t){return!(!e.tagName||!t.tagName)&&!e.void&&(e.children.length>0?e.children.includes(t.tagName):!(e.invalid.length>0&&e.invalid.includes(t.tagName))&&(t.parent.length>0?t.parent.includes(e.tagName):!(!e.self&&e.tagName===t.tagName)&&Boolean(e&&e.content&t.type)))},t.convertLineBreaks=function(e){var t=this.props,s=t.noHtml,a=t.disableLineBreaks;if(s||a||e.match(/<((?:\/[ a-z]+)|(?:[ a-z]+\/))>/gi))return e;var r=e.replace(/\r\n/g,"\n");return(r=r.replace(/\n{3,}/g,"\n\n\n")).replace(/\n/g,"<br/>")},t.createContainer=function(e){var t=(s.g.INTERWEAVE_SSR_POLYFILL||A)();if(t){var a=this.props.containerTagName||"body",r="body"===a||"fragment"===a?t.body:t.createElement(a);return e.match(S)||(r.innerHTML=this.convertLineBreaks(this.props.escapeHtml?h()(e):e)),r}},t.extractAttributes=function(e){var t=this,s=this.props.allowAttributes,a={},r=0;return 1===e.nodeType&&e.attributes?(Array.from(e.attributes).forEach((function(n){var o=n.name,l=n.value,i=o.toLowerCase(),c=x[i]||x[o];if(t.isSafe(e)&&(i.match(F)||(s||c&&2!==c)&&!i.match(/^on/)&&!l.replace(/(\s|\0|&#x0([9AD]);)/,"").match(/(javascript|vbscript|livescript|xss):/i))){var p="style"===i?t.extractStyleAttribute(e):l;4===c?p=!0:3===c?p=Number.parseFloat(String(p)):5!==c&&(p=String(p)),a[C[i]||i]=t.applyAttributeFilters(i,p),r+=1}})),0===r?null:a):null},t.extractStyleAttribute=function(e){var t={};return Array.from(e.style).forEach((function(s){var a=e.style[s];"string"!=typeof a&&"number"!=typeof a||(t[s.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}))]=a)})),t},t.getTagConfig=function(e){var t={children:[],content:0,invalid:[],parent:[],self:!0,tagName:"",type:0,void:!1};return N[e]?y({},t,N[e],{tagName:e}):t},t.isSafe=function(e){if("undefined"!=typeof HTMLAnchorElement&&e instanceof HTMLAnchorElement){var t=e.getAttribute("href");if(t&&"#"===t.charAt(0))return!0;var s=e.protocol.toLowerCase();return":"===s||"http:"===s||"https:"===s||"mailto:"===s||"tel:"===s}return!0},t.isTagAllowed=function(e){return!this.banned.has(e)&&!this.blocked.has(e)&&(this.props.allowElements||this.allowed.has(e))},t.parse=function(){return this.container?this.parseNode(this.container,this.getTagConfig(this.container.nodeName.toLowerCase())):[]},t.parseNode=function(e,t){var s=this,a=this.props,r=a.noHtml,n=a.noHtmlExceptMatchers,o=a.allowElements,l=a.transform,i=[],c="";return Array.from(e.childNodes).forEach((function(e){if(1===e.nodeType){var a=e.nodeName.toLowerCase(),p=s.getTagConfig(a);c&&(i.push(c),c="");var d,u=s.applyNodeFilters(a,e);if(!u)return;if(l){s.keyIndex+=1;var h=s.keyIndex;d=s.parseNode(u,p);var g=l(u,d,p);if(null===g)return;if(void 0!==g)return void i.push(m().cloneElement(g,{key:h}));s.keyIndex=h-1}if(s.banned.has(a))return;if(r||n&&"br"!==a||!s.isTagAllowed(a)||!o&&!s.canRenderChild(t,p))i=i.concat(s.parseNode(u,p.tagName?p:t));else{s.keyIndex+=1;var f=s.extractAttributes(u),v={tagName:a};f&&(v.attributes=f),p.void&&(v.selfClose=p.void),i.push(m().createElement(b,y({},v,{key:s.keyIndex}),d||s.parseNode(u,p)))}}else if(3===e.nodeType){var E=r&&!n?e.textContent:s.applyMatchers(e.textContent||"",t);Array.isArray(E)?i=i.concat(E):c+=E}})),c&&i.push(c),i},t.replaceTokens=function(e,t){if(!e.includes("{{{"))return e;for(var s=[],a=e,r=null;r=a.match(T);){var n=r,o=n[0],l=n[1],i=r.index,c=o.includes("/");i>0&&(s.push(a.slice(0,i)),a=a.slice(i));var p=t[l],d=p.children,m=p.matcher,u=p.props,h=void 0;if(c)h=o.length,s.push(m.createElement(d,u));else{var y=a.match(new RegExp("{{{/"+l+"}}}"));h=y.index+y[0].length,s.push(m.createElement(this.replaceTokens(a.slice(o.length,y.index),t),u))}a=a.slice(h)}return a.length>0&&s.push(a),0===s.length?"":1===s.length&&"string"==typeof s[0]?s[0]:s},e}();function D(e){var t,s=e.attributes,a=e.containerTagName,r=e.content,n=e.emptyContent,o=e.parsedContent,l=e.tagName,i=a||l||"div",c="fragment"===i||e.noWrap;if(o)t=o;else{var p=new R(r||"",e).parse();p.length>0&&(t=p)}return t||(t=n),c?m().createElement(m().Fragment,null,t):m().createElement(b,{attributes:s,tagName:i},t)}(I=function(e,t,s){this.greedy=!1,this.options=void 0,this.propName=void 0,this.inverseName=void 0,this.factory=void 0,this.options=y({},t),this.propName=e,this.inverseName="no"+(e.charAt(0).toUpperCase()+e.slice(1)),this.factory=s||null}.prototype).createElement=function(e,t){return this.factory?m().createElement(this.factory,t,e):this.replaceWith(e,t)},I.doMatch=function(e,t,s,a){return void 0===a&&(a=!1),function(e,t,s,a){void 0===a&&(a=!1);var r=e.match(t instanceof RegExp?t:new RegExp(t,"i"));return r?y({match:r[0],void:a},s(r),{index:r.index,length:r[0].length,valid:!0}):null}(e,t,s,a)},I.onBeforeParse=function(e,t){return e},I.onAfterParse=function(e,t){return e};var B=function(e){var t=e.attributes,s=e.content,a=void 0===s?"":s,r=e.disableFilters,n=void 0!==r&&r,o=e.disableMatchers,l=void 0!==o&&o,i=e.emptyContent,c=void 0===i?null:i,p=e.filters,d=void 0===p?[]:p,u=e.matchers,h=void 0===u?[]:u,y=e.onAfterParse,b=void 0===y?null:y,f=e.onBeforeParse,v=void 0===f?null:f,E=e.tagName,_=void 0===E?"span":E,w=e.noWrap,N=void 0!==w&&w,k=g(e,["attributes","content","disableFilters","disableMatchers","emptyContent","filters","matchers","onAfterParse","onBeforeParse","tagName","noWrap"]),P=l?[]:h,x=n?[]:d,C=v?[v]:[],S=b?[b]:[];P.forEach((function(e){e.onBeforeParse&&C.push(e.onBeforeParse.bind(e)),e.onAfterParse&&S.push(e.onAfterParse.bind(e))}));var F=C.reduce((function(t,s){return s(t,e)}),a||""),T=new R(F,k,P,x),A=S.reduce((function(t,s){return s(t,e)}),T.parse());return m().createElement(D,{attributes:t,containerTagName:e.containerTagName,emptyContent:c,tagName:_,noWrap:N,parsedContent:0===A.length?void 0:A})};class O extends e.Component{render(){return(0,e.createElement)("p",{className:this.props.className},(0,e.createElement)(B,{content:this.props.audioPlayer}))}}var z=O;class U extends e.Component{constructor(e){let{attributes:t,setAttributes:s,className:a}=e;super(...arguments),this.episodeRef=React.createRef();let r=!0;t.audio_player&&(r=!1);const n={audioPlayer:t.audio_player||""};this.state={className:a,editing:r,episode:n,episodes:[],setAttributes:s}}componentDidMount(){i()({path:"ssp/v1/episodes"}).then((e=>{let t=[];Object.keys(e).map((function(s){let a={id:e[s].id,title:e[s].title.rendered};t.push(a)})),this.setState({episodes:t})}))}render(){const{editing:s,episodes:a,episode:r,className:l,setAttributes:c}=this.state,d=(0,e.createElement)(n.BlockControls,{key:"controls"},(0,e.createElement)(o.Toolbar,null,(0,e.createElement)(o.Button,{className:"components-icon-button components-toolbar__control",label:(0,t.__)("Select Podcast","seriously-simple-podcasting"),onClick:()=>{this.setState({editing:!0})},icon:"edit"})));return s?(0,e.createElement)(p,{className:l,episodeRef:this.episodeRef,episodes:a,activateEpisode:()=>{const e=this.episodeRef.current.value,t="ssp/v1/audio_player?ssp_podcast_id="+e;i()({path:t}).then((t=>{const s={episodeId:e,audioPlayer:t.audio_player};this.setState({episode:s,editing:!1}),c({id:e,audio_player:s.audioPlayer})}))}}):[d,(0,e.createElement)(z,{className:l,audioPlayer:r.audioPlayer})]}}var j=U,L=s(184),M=s.n(L);class H extends e.Component{render(){const{className:t,episodeId:s,episodeTitle:a,episodeFileUrl:r,episodeData:n}=this.props,{rssFeedUrl:o,subscribeUrls:l,embedCode:i}=n,c=[];return Object.keys(l).forEach(((t,s)=>{const a=l[t].url;if(""!==a){const s=l[t].key,r=l[t].label,n="Subscribe on "+l[t].label;c.push((0,e.createElement)("a",{key:t,href:a,target:"_blank",className:s,title:n,rel:"noopener noreferrer"},(0,e.createElement)("span",null),r))}})),(0,e.createElement)("div",{className:"player-panels player-panels-"+s},(0,e.createElement)("div",{className:"subscribe player-panel subscribe-"+s},(0,e.createElement)("div",{className:"close-btn close-btn-"+s},(0,e.createElement)("span",null),(0,e.createElement)("span",null)),(0,e.createElement)("div",{className:"panel__inner"},(0,e.createElement)("div",{className:"subscribe-icons"},c),(0,e.createElement)("div",{className:"player-panel-row"},(0,e.createElement)("div",{className:"title"},"RSS Feed"),(0,e.createElement)("div",null,(0,e.createElement)("input",{readOnly:!0,value:o,className:"input-rss input-rss-"+s})),(0,e.createElement)("button",{className:"copy-rss copy-rss-"+s})))),(0,e.createElement)("div",{className:"share share-"+s+" player-panel"},(0,e.createElement)("div",{className:"close-btn close-btn-"+s},(0,e.createElement)("span",null),(0,e.createElement)("span",null)),(0,e.createElement)("div",{className:"player-panel-row"},(0,e.createElement)("div",{className:"title"},"Share"),(0,e.createElement)("div",{className:"icons-holder"},(0,e.createElement)("a",{href:"https://www.facebook.com/sharer/sharer.php?u="+r+"&t="+a,target:"_blank",className:"share-icon facebook",title:"Share on Facebook",rel:"noopener noreferrer"},(0,e.createElement)("span",null)),(0,e.createElement)("a",{href:"https://twitter.com/intent/tweet?text="+r+"&url="+a,target:"_blank",className:"share-icon twitter",title:"Share on Twitter",rel:"noopener noreferrer"},(0,e.createElement)("span",null)),(0,e.createElement)("a",{href:r,target:"_blank",className:"share-icon download",title:"Download",rel:"noopener noreferrer"},(0,e.createElement)("span",null)))),(0,e.createElement)("div",{className:"player-panel-row"},(0,e.createElement)("div",{className:"title"},"Link"),(0,e.createElement)("div",null,(0,e.createElement)("input",{readOnly:!0,value:r,className:"input-link input-link-"+s})),(0,e.createElement)("button",{className:"copy-link copy-link-"+s})),(0,e.createElement)("div",{className:"player-panel-row"},(0,e.createElement)("div",{className:"title"},"Embed"),(0,e.createElement)("div",{style:{height:"10px"}},(0,e.createElement)("input",{readOnly:!0,value:i,className:"input-embed input-embed-"+s})),(0,e.createElement)("button",{className:"copy-embed copy-embed-"+s}))))}}var W=H;class q extends e.Component{render(){try{const{className:t,episodeId:s,episodeImage:a,episodeTitle:r,episodeFileUrl:n,episodeDuration:o,episodeData:l}=this.props,{playerMode:i}=l,c=M()(t,"castos-player",i+"-mode"),p={background:"url("+a+") center center no-repeat",WebkitBackgroundSize:"cover",backgroundSize:"cover"},d="player__artwork player__artwork-"+s,m="play-btn play-btn-"+s,u="pause-btn pause-btn-"+s+" hide",h="/wp-content/plugins/seriously-simple-podcasting/assets/css/images/player/images/icon-loader.svg",y="loader loader-"+s+" hide",g="clip clip-"+s,b="ssp-progress progress-"+s,f="progress__filled progress__filled-"+s,v="playback playback-"+s,E="player-btn__volume player-btn__volume-"+s,_="player-btn__speed player-btn__speed-"+s,w="timer-"+s,N="duration-"+s,k="subscribe-btn-"+s,P="share-btn-"+s;return(0,e.createElement)("div",{className:c,"data-episode":s},(0,e.createElement)("div",{className:"player"},(0,e.createElement)("div",{className:"player__main"},(0,e.createElement)("div",{className:d,style:p}),(0,e.createElement)("div",{className:"player__body"},(0,e.createElement)("div",{className:"currently-playing"},(0,e.createElement)("div",{className:"show"},(0,e.createElement)("strong",null,r)),(0,e.createElement)("div",{className:"episode-title"},r)),(0,e.createElement)("div",{className:"play-progress"},(0,e.createElement)("div",{className:"play-pause-controls"},(0,e.createElement)("button",{title:"Play",className:m},(0,e.createElement)("span",{className:"screen-reader-text"},"Play Episode")),(0,e.createElement)("button",{alt:"Pause",className:u},(0,e.createElement)("span",{className:"screen-reader-text"},"Pause Episode")),(0,e.createElement)("img",{src:h,className:y})),(0,e.createElement)("div",null,(0,e.createElement)("audio",{preload:"none",className:g},(0,e.createElement)("source",{loop:!0,preload:"none",src:n})),(0,e.createElement)("div",{className:b,title:"Seek"},(0,e.createElement)("span",{className:f})),(0,e.createElement)("div",{className:v},(0,e.createElement)("div",{className:"playback__controls"},(0,e.createElement)("button",{className:E,title:"Mute/Unmute"},(0,e.createElement)("span",{className:"screen-reader-text"},"Mute/Unmute Episode")),(0,e.createElement)("button",{"data-skip":"-10",className:"player-btn__rwd",title:"Rewind 10 seconds"},(0,e.createElement)("span",{className:"screen-reader-text"},"Rewind 10 Seconds")),(0,e.createElement)("button",{"data-speed":"1",className:_,title:"Playback Speed"},"1x"),(0,e.createElement)("button",{"data-skip":"30",className:"player-btn__fwd",title:"Fast Forward 30 seconds"},(0,e.createElement)("span",{className:"screen-reader-text"},"Fast Forward 30 seconds"))),(0,e.createElement)("div",{className:"playback__timers"},(0,e.createElement)("time",{id:w},"00:00"),(0,e.createElement)("span",null,"/"),(0,e.createElement)("time",{id:N},o))))),(0,e.createElement)("nav",{className:"player-panels-nav"},(0,e.createElement)("button",{className:"subscribe-btn",id:k,title:"Subscribe"},"Subscribe"),(0,e.createElement)("button",{className:"share-btn",id:P,title:"Share"},"Share"))))),(0,e.createElement)(W,{className:t,episodeId:s,episodeTitle:r,episodeFileUrl:n,episodeData:l}))}catch(e){console.log("Error:",e),this.state={error:e}}}}var G=q;class V extends e.Component{constructor(e){let{attributes:t,setAttributes:s,className:a}=e;super(...arguments),this.episodeRef=React.createRef();const r={episodeImage:t.image||"",episodeFileUrl:t.file||"",episodeTitle:t.title||"",episodeDuration:t.duration||"",episodeDownloadUrl:t.download||"",episodeData:t.episode_data||""};let n=!0;t.title&&(n=!1),this.state={editing:n,className:a,episodes:[],episode:r,setAttributes:s}}componentDidMount(){i()({path:"ssp/v1/episodes"}).then((e=>{let t=[];Object.keys(e).map((function(s){let a={id:e[s].id,title:e[s].title.rendered};t.push(a)})),this.setState({episodes:t})}))}render(){const{editing:s,episodes:a,episode:r,className:l,setAttributes:c}=this.state,d=(0,e.createElement)(n.BlockControls,{key:"controls"},(0,e.createElement)(o.Toolbar,null,(0,e.createElement)(o.Button,{className:"components-icon-button components-toolbar__control",label:(0,t.__)("Select Podcast","seriously-simple-podcasting"),onClick:()=>{this.setState({editing:!0})},icon:"edit"})));return s?(0,e.createElement)(p,{className:l,episodeRef:this.episodeRef,episodes:a,activateEpisode:()=>{const e=this.episodeRef.current.value;let t="ssp/v1/episodes?include="+e;i()({path:t}).then((t=>{const s={episodeId:e,episodeImage:t[0].episode_player_image,episodeFileUrl:t[0].player_link,episodeTitle:t[0].title.rendered,episodeDuration:t[0].meta.duration,episodeDownloadUrl:t[0].download_link,episodeData:t[0].episode_data};this.setState({key:e,episode:s,editing:!1}),c({id:e,image:s.episodeImage,file:s.episodeFileUrl,title:s.episodeTitle,duration:s.episodeDuration,download:s.episodeDownloadUrl,episode_data:s.episodeData})}))}}):[d,(0,e.createElement)(G,{key:"castos-player",className:this.state.className,episodeId:r.episodeId,episodeImage:r.episodeImage,episodeTitle:r.episodeTitle,episodeFileUrl:r.episodeFileUrl,episodeDuration:r.episodeDuration,episodeData:r.episodeData})]}}var Q=V,Y=window.wp.serverSideRender,Z=s.n(Y);class J extends e.Component{constructor(e){let{attributes:t,setAttributes:s,className:a}=e;super(...arguments),this.episodeRef=React.createRef();let r=!0;t.episodeId&&(r=!1),this.state={editing:r,className:a,episodes:[],setAttributes:s,episodeId:t.episodeId}}componentDidMount(){this._isMounted=!0,i()({path:"ssp/v1/episodes?per_page=500&get_additional_options=true"}).then((e=>{let t=[];Object.keys(e).map((function(s){let a={id:e[s].id,title:e[s].title.rendered};t.push(a)})),this.setState({episodes:t})}))}componentWillUnmount(){this._isMounted=!1}render(){const{editing:s,episodes:a,episodeId:r,className:l,setAttributes:i}=this.state,c=(0,e.createElement)(n.BlockControls,{key:"controls"},(0,e.createElement)(o.Toolbar,null,(0,e.createElement)(o.Button,{className:"components-icon-button components-toolbar__control",label:(0,t.__)("Select Podcast","seriously-simple-podcasting"),onClick:()=>{this.setState({editing:!0})},icon:"edit"})));return s?(0,e.createElement)(p,{className:l,episodeRef:this.episodeRef,episodes:a,activateEpisode:()=>{let e=this.episodeRef.current.value;this.setState({episodeId:e,editing:!1}),i({episodeId:e})}}):[c,(0,e.createElement)(Z(),{className:l,key:"castos-player",block:"seriously-simple-podcasting/castos-html-player",attributes:{episodeId:r}})]}}var K=J;class X extends e.Component{constructor(e){let{className:t}=e;super(...arguments),this.state={className:t,episodes:[]}}render(){const{className:s}=this.state,{attributes:a,setAttributes:r}=this.props,{showTitle:l,featuredImage:i,featuredImageSize:c,excerpt:p,player:d,playerBelowExcerpt:m,availablePodcasts:u,selectedPodcast:h,postsPerPage:y,availableImageSizes:g,orderBy:b,order:f,columnsPerRow:v,titleSize:E,titleUnderImage:_}=a,w=(0,e.createElement)(n.InspectorControls,{key:"inspector-controls"},(0,e.createElement)("div",{className:"ssp-controls ssp-edit-podcast-list"},(0,e.createElement)(o.PanelBody,{key:"podcast-list-content",title:(0,t.__)("Content","seriously-simple-podcasting")},(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-show-title"},(0,t.__)("Show Title","seriously-simple-podcasting")),(0,e.createElement)(o.FormToggle,{id:"ssp-podcast-list-show-title",label:(0,t.__)("Show Title","seriously-simple-podcasting"),checked:l,onChange:()=>{r({showTitle:!l})}})),(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-show-featured-image"},(0,t.__)("Show Featured Image","seriously-simple-podcasting")),(0,e.createElement)(o.FormToggle,{id:"ssp-podcast-list-show-featured-image",label:(0,t.__)("Show Featured Image","seriously-simple-podcasting"),checked:i,onChange:()=>{r({featuredImage:!i})}})),i&&(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-image-size"},(0,t.__)("Featured Image Size","seriously-simple-podcasting")),(0,e.createElement)(o.SelectControl,{id:"ssp-podcast-list-image-size",value:c,options:g,onChange:e=>{r({featuredImageSize:e})}})),(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-show-player"},(0,t.__)("Show Podcast Player","seriously-simple-podcasting")),(0,e.createElement)(o.FormToggle,{id:"ssp-podcast-list-show-player",label:(0,t.__)("Show Podcast Player","seriously-simple-podcasting"),checked:d,onChange:()=>{r({player:!d})}})),(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-show-excerpt"},(0,t.__)("Show Podcast Excerpt","seriously-simple-podcasting")),(0,e.createElement)(o.FormToggle,{id:"ssp-podcast-list-show-excerpt",label:(0,t.__)("Show Podcast Excerpt","seriously-simple-podcasting"),checked:p,onChange:()=>{r({excerpt:!p})}}))),(0,e.createElement)(o.PanelBody,{key:"ssp-podcast-list-query",title:(0,t.__)("Query","seriously-simple-podcasting")},(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-podcast"},(0,t.__)("Select Podcast","seriously-simple-podcasting")),(0,e.createElement)(o.SelectControl,{id:"ssp-podcast-list-podcast",value:h,options:u,onChange:e=>{r({selectedPodcast:e})}})),(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-posts-per-page"},(0,t.__)("Posts Per Page","seriously-simple-podcasting"),(0,e.createElement)(o.Tooltip,{text:(0,t.__)("For the default global settings, use 0","seriously-simple-podcasting"),htmlFor:"ssp-podcast-list-posts-per-page"},(0,e.createElement)("span",{className:"dashicon dashicons dashicons-info"}))),(0,e.createElement)(o.__experimentalNumberControl,{id:"ssp-podcast-list-posts-per-page",value:y,min:0,onChange:e=>{r({postsPerPage:e})}})),(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-order-by"},(0,t.__)("Order By","seriously-simple-podcasting")),(0,e.createElement)(o.SelectControl,{id:"ssp-podcast-list-order-by",value:b,options:[{label:(0,t.__)("Date","seriously-simple-podcasting"),value:"date"},{label:(0,t.__)("ID","seriously-simple-podcasting"),value:"ID"},{label:(0,t.__)("Title","seriously-simple-podcasting"),value:"title"},{label:(0,t.__)("Recorded Date","seriously-simple-podcasting"),value:"recorded"}],onChange:e=>{r({orderBy:e})}})),(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-order"},(0,t.__)("Order","seriously-simple-podcasting")),(0,e.createElement)(o.SelectControl,{id:"ssp-podcast-list-order",value:f,options:[{label:"ASC",value:"asc"},{label:"DESC",value:"desc"}],onChange:e=>{r({order:e})}}))),(0,e.createElement)(o.PanelBody,{key:"ssp-podcast-list-style",title:(0,t.__)("Style","seriously-simple-podcasting")},(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-columns-per-row"},(0,t.__)("Columns per row","seriously-simple-podcasting")),(0,e.createElement)(o.__experimentalNumberControl,{id:"ssp-podcast-list-columns-per-row",value:v,min:1,max:6,onChange:e=>{r({columnsPerRow:e})}})),l&&(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-title-size"},(0,t.__)("Title Size","seriously-simple-podcasting")),(0,e.createElement)(o.__experimentalNumberControl,{id:"ssp-podcast-list-title-size",value:E,min:8,max:40,onChange:e=>{r({titleSize:e})}})),l&&i&&(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-title-under-image"},(0,t.__)("Show Title Under Image","seriously-simple-podcasting")),(0,e.createElement)(o.FormToggle,{id:"ssp-podcast-list-title-under",label:(0,t.__)("Show Title Under Image","seriously-simple-podcasting"),checked:_,onChange:()=>{r({titleUnderImage:!_})}})),d&&p&&(0,e.createElement)(o.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-player-below-excerpt"},(0,t.__)("Show Player Below Excerpt","seriously-simple-podcasting")),(0,e.createElement)(o.FormToggle,{id:"ssp-podcast-list-player-below-excerpt",label:(0,t.__)("Show Player Below Excerpt","seriously-simple-podcasting"),checked:m,onChange:()=>{r({playerBelowExcerpt:!m})}})))));return[w,(0,e.createElement)(Z(),{className:s,key:"episode-items",block:"seriously-simple-podcasting/podcast-list",attributes:a})]}}var $=X,ee=window.wp.editPost;class te extends e.Component{render(){const s=sspAdmin.sspPostTypes,a=sspAdmin.isCastosUser,r=wp.data.select("core/editor");if(!r)return;const n=r.getCurrentPostType();return!s instanceof Array||!s.includes(n)||a?void 0:(0,e.createElement)(ee.PluginPostPublishPanel,null,(0,e.createElement)("div",{className:"ssp-post-publish"},(0,e.createElement)("div",{className:"ssp-post-publish__container"},(0,e.createElement)("div",{className:"ssp-post-publish__logos"},(0,e.createElement)("a",{className:"ssp-post-publish__apple",title:"Apple Podcasts",href:"https://podcasters.apple.com/"},(0,e.createElement)("span",null,"Apple Podcasts")),(0,e.createElement)("a",{className:"ssp-post-publish__amazon",title:"Amazon",href:"https://podcasters.amazon.com/"},(0,e.createElement)("span",null,"Amazon")),(0,e.createElement)("a",{className:"ssp-post-publish__spotify",title:"Spotify",href:"https://podcasters.spotify.com/"},(0,e.createElement)("span",null,"Spotify")),(0,e.createElement)("a",{className:"ssp-post-publish__google",title:"Google Podcasts",href:"https://podcasts.google.com/"},(0,e.createElement)("span",null,"Google Podcasts")),(0,e.createElement)("a",{className:"ssp-post-publish__overcast",title:"Overcast",href:"https://overcast.fm/"},(0,e.createElement)("span",null,"Overcast"))),(0,e.createElement)("div",{className:"ssp-post-publish__description"},(0,t.__)("Distribute your podcast everywhere, automatically.","seriously-simple-podcasting")),(0,e.createElement)("div",{className:"ssp-post-publish__btn"},(0,e.createElement)("a",{href:"https://castos.com/podcast-hosting-wordpress/?utm_source=ssp&utm_medium=episode-published-box&utm_campaign=upgrade"},"Try Castos for free")))))}}var se=te;const{addFilter:ae}=wp.hooks,{createHigherOrderComponent:re}=wp.compose,{Fragment:ne}=wp.element,{InspectorControls:oe}=wp.blockEditor,{PanelBody:le,ToggleControl:ie}=wp.components,ce=["core/freeform","core/heading","core/html","core/list","core/media-text","core/paragraph","core/preformatted","core/pullquote","core/quote","core/table","core/verse","core/columns","core/group","core/block","create-block/castos-transcript"],pe=["create-block/castos-transcript","core/group"];ae("blocks.registerBlockType","extend-block/ssp-block-settings",((e,t)=>ce.includes(t)?(e.attributes.hasOwnProperty("hideFromFeed")||(e.attributes.hideFromFeed={type:"boolean",default:null}),e):e)),ae("editor.BlockEdit","extend-block/ssp-block-settings",re((s=>a=>ce.includes(a.name)?(pe.includes(a.name)&&null===a.attributes.hideFromFeed&&(a.attributes.hideFromFeed=!0),(0,e.createElement)(ne,null,(0,e.createElement)(s,a),(0,e.createElement)(oe,null,(0,e.createElement)(le,{title:(0,t.__)("Feed Settings"),initialOpen:!0},(0,e.createElement)(ie,{label:(0,t.__)("Hide From Podcast RSS Feed"),checked:a.attributes.hideFromFeed,onChange:e=>{a.setAttributes({hideFromFeed:e})}}))))):(0,e.createElement)(s,a)))),(0,a.registerBlockType)("seriously-simple-podcasting/audio-player",{title:(0,t.__)("Audio Player","seriously-simple-podcasting"),icon:"controls-volumeon",category:"layout",supports:{multiple:!1},attributes:{id:{type:"string"},audio_player:{type:"string",source:"html",selector:"span"}},edit:j,save:(t,s)=>{const{id:a,audio_player:r}=t.attributes;return(0,e.createElement)(z,{className:s,audioPlayer:r})}}),(0,a.registerBlockType)("seriously-simple-podcasting/castos-player",{title:(0,t.__)("Castos Player (OLD)","seriously-simple-podcasting"),icon:"controls-volumeon",category:"layout",supports:{multiple:!1},attributes:{id:{type:"string"},image:{type:"string"},file:{type:"string"},title:{type:"string"},duration:{type:"string"},download:{type:"string"},episode_data:{type:"object"}},edit:Q,save:(t,s)=>{const{id:a,image:r,file:n,title:o,duration:l,download:i,episode_data:c}=t.attributes;return c?(0,e.createElement)(G,{className:s,episodeId:a,episodeImage:r,episodeFileUrl:n,episodeTitle:o,episodeDuration:l,episodeDownloadUrl:i,episodeData:c}):""}}),(0,a.registerBlockType)("seriously-simple-podcasting/castos-html-player",{title:(0,t.__)("Castos Player","seriously-simple-podcasting"),icon:"controls-volumeon",category:"layout",supports:{multiple:!1},attributes:{episodeId:{type:"string"}},edit:K,save:()=>null}),(0,a.registerBlockType)("seriously-simple-podcasting/podcast-list",{title:(0,t.__)("Episode List","seriously-simple-podcasting"),icon:"megaphone",category:"widgets",supports:{multiple:!1},edit:$}),(0,r.registerPlugin)("post-publish-panel",{render:se})}()}();